{% extends "base.html" %}
{% load staticfiles %}

{% block head %}
{{block.super}}
<script src="https://cdn.plot.ly/plotly-latest.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.css" type="text/css" />
{% endblock %}

{% block content %}

<div class="container">
  <h1>Plot using Plot.ly and some clever JavaScript</h1>
  <p class="lead">Here we go...</p>
</div>

<div class="container">
  <div class="row" style="border: 1px solid black">
    <div id="plot_scale" class="col-md-3 col-sm-4">
      <h3>Display Settings</h3>
      <div class="btn-group-vertical">

        <!-- X select: linear/log -->
        <div class="btn-group">
          <div class="btn-group btn-group-justified">
            <div class="btn-group">
              <button type="button" class="btn btn-default" disabled>X Axis</button>
            </div>
            <div class="btn-group">
              <button type="button" id="btn-xaxis-linear" class="btn-xaxis btn btn-default active" data-type="linear">Linear</button>
            </div>
            <div class="btn-group">
              <button type="button" id="btn-xaxis-log" class="btn-xaxis btn btn-default" data-type="log">Log</button>
            </div>
          </div>
        </div>

        <!-- Y select: linear/log -->
        <div class="btn-group">
          <div class="btn-group btn-group-justified">
            <div class="btn-group">
              <button type="button" class="btn btn-default" disabled>Y Axis</button>
            </div>
            <div class="btn-group">
              <button type="button" id="btn-yaxis-linear" class="btn-yaxis btn btn-default active">Linear</button>
            </div>
            <div class="btn-group">
              <button type="button" id="btn-yaxis-log" class="btn-yaxis btn btn-default">Log</button>
            </div>
          </div>
        </div>

        <!-- X Select: all the options -->
        <div class="btn-group">
          <div class="btn-group btn-group-justified">
            <div class="btn-group">
              <button type="button" class="btn btn-default" disabled>X Data</button>
            </div>
            <div id="dropdown-xaxis-preprocess" class="btn-group dropdown">
              <button type="button" class="btn btn-default dropdown-toggle"
                      data-toggle="dropdown">Dropdown<span class="caret"></span></button>
              <ul class="dropdown-menu">
                <li><a href="#" value="Q">Q</a></li>
                <li><a href="#" value="Log(Q)">Log(Q)</a></li>
                <li><a href="#" value="Ln(Q)">Ln(Q)</a></li>
                <li><a href="#" value="Q^2">Q^2</a></li>
                <li><a href="#" value="Q^c">Q^c</a></li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Y Select: all the options -->
        <div class="btn-group">
          <div class="btn-group btn-group-justified">
            <div class="btn-group">
              <button type="button" class="btn btn-default" disabled>Y Data</button>
            </div>
            <div id="dropdown-yaxis-preprocess" class="btn-group dropdown">
              <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown<span class="caret"></span></button>
              <ul class="dropdown-menu">
                <li><a href="#" value="I">I</a></li>
                <li><a href="#" value="Log(I)">Log(I)</a></li>
                <li><a href="#" value="Ln(I)">Ln(I)</a></li>
                <li><a href="#" value="1/I">1/I</a></li>
                <li><a href="#" value="I^a">I^a</a></li>
                <li><a href="#" value="I*Q^a">I*Q^a</a></li>
                <li><a href="#" value="I^a*Q^b">I^a*Q^b</a></li>
                <li><a href="#" value="1/Sqrt(I)">1/Sqrt(I)</a></li>
                <li><a href="#" value="Ln(I*Q)">Ln(I*Q)</a></li>
                <li><a href="#" value="Ln(I*Q^2)">Ln(I*Q^2)</a></li>
                <li><a href="#" value="Ln(I*Q+B)">Ln(I*Q+B)</a></li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Variables: a, b, c -->
        <div class="form-horizontal">
          <div class="form-group" style="margin-bottom:0px">
            <label for="" class="col-sm-2 col-xs-2 control-label">a</label>
            <div class="col-sm-10 col-xs-10">
              <input type="number" class="form-control" placeholder="0" id="input-variable-a" />
            </div>
          </div>
          <div class="form-group" style="margin-bottom:0px">
            <label for="" class="col-sm-2 col-xs-2 control-label">b</label>
            <div class="col-sm-10 col-xs-10">
              <input type="number" class="form-control" placeholder="0" id="input-variable-b" />
            </div>
          </div>
          <div class="form-group" style="margin-bottom:0px">
            <label for="" class="col-sm-2 col-xs-2 control-label">c</label>
            <div class="col-sm-10 col-xs-10">
              <input type="number" class="form-control" placeholder="0" id="input-variable-c" />
            </div>
          </div>
        </div>

      </div>

      <h3>Fitting Settings</h3>
      <div class="btn-group-vertical">
        <div class="btn-group">
          <div class="btn-group btn-group-justified">
            <div class="btn-group">
              <button type="button" class="btn btn-default">Guinier</button>
            </div>
          </div>
        </div>

        <div class="btn-group">
          <div class="btn-group btn-group-justified">
            <div class="btn-group">
              <button type="button" class="btn btn-default">Kratky</button>
            </div>
          </div>
        </div>

        <div class="btn-group">
          <div class="btn-group btn-group-justified">
            <div class="btn-group">
              <button type="button" class="btn btn-default">Zimm</button>
            </div>
          </div>
        </div>

        <div class="btn-group">
          <div class="btn-group btn-group-justified">
            <div class="btn-group">
              <button type="button" class="btn btn-default">Porod</button>
            </div>
          </div>
        </div>

      </div>

    </div>

    <div class="col-md-9 col-sm-8">
      <!-- The actual plot contents -->
      <div class="row">
        <div id="plot_container" class="col-xs-12"></div>
      </div>
      <div class="row">
        <div id="plot_range_slider" class="col-xs-12"></div>
      </div>
    </div>
  </div>
</div>

{% endblock %}

{% block localjs %}
<script type="text/javascript">
    var filename = "{% static filename %}";
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
<script type="text/javascript" src="{% static 'app1/Cobyla.js' %}"></script>
<script type="text/javascript" src="{% static 'app1/CobylaLSFit.js' %}"></script>
<script type="text/javascript" src="{% static 'app1/plot_fit.js' %}"></script>
{% endblock %}
